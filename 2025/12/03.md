# 取り組んだ課題一覧
- SQL
    - 達人に学ぶDB設計（第6章）

# 感じたこと
- DBのパフォーマンスを上げるために最適なインデックスの作成や統計情報をもとに設計を見直すことがチューニング手段として頻繁に使われている。
    - インデックス以外にもチューニングの方法があるが、一長一短があり、開発や設計している環境を見ながら使い分けること。

# 次やること
- SQL
    - 達人に学ぶDB設計（第7章〜）
- Docker
    - Udmey（dockerfileを作成する）

# わかったこと
- インデックスを頻繁に利用する種類
    - B-tree インデックス
        - 均一性
        - 持続性（データ量が多くなっても検索/更新にかかる時間はそこまで増えない）
        - 処理汎用性
        - 非等値性（等値だけではなく、不等号でも可能。ただし否定条件はそもそもインデックスは使用されない）
        - 親ソート性（基本ソートはされない。SQLでソートするプロンプトをすれば実行する。ただしI/Oコストが非常にかかる）
- アンチパターン：インデックス・ショットガン（不必要なインデックスを作成）
- B-treeインデックスはどの列に作ればいいのか（①→③の手順で行う）
    - 指針①：大規模なテーブルに対して作成する
    - 指針②：カーディナリティの高い列に作成する（カーディナリティが高いとは、特定のカラムにおいて何種類も値が格納されていること）
    - 指針③：SQL文でWHERE句の選択条件、または結合条件に使用されている列に作成する
- 統計情報もパフォーマンスを上げる指標になる（DBMSにクエリをユーザが入力したら直接結果が返るわけではない）
    - ①まずはパーサと呼ばれるモジュールにいき、クエリが文法的に合っているか確認
    - ② ①でパスしたら、実行計画を決めるオプティマイザというモジュールにいく
    - ③実行計画を立てるためにカタログマネージャというモジュールで統計情報を参照し、得られた実行計画に従い実データのあるテーブルへとアクセスする
        - この段階において、トラブルが発生したら統計情報などを参照し、解決へのアプローチをかける
- 統計情報の凍結というオプティマイザを信じない悲観的設計もあるが、現実的に実施するのはかなり骨が折れる

# 学習時間
 2h 